<form *ngIf="schema$ | async as schema" [formGroup]="formGroup">
    <nav mat-tab-nav-bar *ngIf="schema.tabs && schema.tabs.length > 0" style="margin-bottom: 8px">
        <div mat-tab-link *ngFor="let tab of schema.tabs; let i = index" [id]="tab.id" [active]="isSelectedTab(schema, tab, i)" (click)="selectTab(tab)">{{tab.label}}</div>
    </nav>
    <div *ngFor="let t of schema.tabs; let i = index" [hidden]="!isSelectedTab(schema, t, i)">
        <mat-card *ngFor="let fs of t.fieldsets">
            <mat-card-title>{{fs.label}}</mat-card-title>
            <mat-card-content>
                <df-widget-container *ngFor="let f of fs.fields" [field]="f" [form]="formGroup"></df-widget-container>
            </mat-card-content>
            <!-- <mat-card-actions>
                <button mat-button type="submit">Save</button>
            </mat-card-actions> -->
        </mat-card>
    </div>
</form>
